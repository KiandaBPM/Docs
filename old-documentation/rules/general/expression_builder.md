#### Expression Builder

Used in 3 rules:
* Send email
* Meeting request
* Set form field

Easy explanation

Hard explanation - go into the reference plus other functions you can use

list of expressions e.g. ProcessId(), ProcessLink(), Date(), User() etc..

![Expression builder dialog box](images/expressionbuilder.png)

##### Create a field with an autogenerated number e.g. Bug id
Editing a process...
Click on Controls->Input->Text box
Enter Process ID in the Title field
Enter txt_processID in the Name field
Do not use the Expression Builder in the Text box because...it will only run if the field is visible...and it will check onload and then keep checking if it's visible

Click on Controls->Input->Text box
Enter ID Number in the title field

Now you need to add two rules, one to get the process ID and the other to extract the instance number.

Add a rule->Data->Set form field
Enter Set Process ID in the title field
Under Form field to set, find and click on 'form 1>ProcessID'
Under Value or expression, use the Expression builder (the 3 dots) and Reference to select Process()

Add a rule->Data->Set form field
Enter Split Process ID in the title field
Under Form field to set, find and click on 'form 1>ID Number'
Under Value or expression, use the Expression builder (the 3 dots) and enter the following
[txt_processID].split('-').get(4)
ID is doc-gen-contional-section-32
split divides the process name into strings (5 in this case)
then get picks out the one you want (counts from 0)

Now try in the Previewer
You should be able to see the ID number as a whole number equal to the instance number of the process

Similar if you want to extract the user name from an email address, just use split('@') etc..


###### Reference

| Expression                                    | Function                                                     |
| :-------------------------------------------- | :----------------------------------------------------------- |
| +, -, /, \*                                   | Performs one of the basic mathematical operations: add, subtract, divide or multiply. |
| Sum(arg1, arg2, ...)                          | Returns the sum of the arguments listed between the parentheses. |
| Date(arg1)                                    | Converts the argument into a date.                           |
| DateAdd(dateArg, day, month, year, hour, min) | Adds time to a given date. The date is stored in dateArg and the time to be added is stored in the day, month, year, hour and min arguments. |
| Status()                                      | Returns the status of the current process.                   |
| ProcessID()                                   | Returns the ID of the current process.                       |
| FormOwner(formName)                           | Returns the form owner(s) for the given form.                |
| FormCompleted(formName)                       | Returns the date completed for the given form.               |
| Pad(value, size, symbol)                      | Adds left padding to the value with the symbol provided.     |
| QueryString(parameter)                        | Returns the URL query string for the given parameter (or an empty string if undefined). |
| IsOnline()                                    | Returns "yes" or "no" depending on the status of the online connection. |
| ProcessLink()                                 | Returns the HTML link to the current process  The link text can be added between the parantheses e.g. ProcessLink("click here"). This expression is for use in emails and rich text fields. |
| Digest()                                      | Returns a summary of changes to fields in the current process.  A table will be given with the original and new values. |
| Digest('fieldName1','fieldName2')             | Returns a summary of the changes for the given fields.  See note below. |
| GetFieldText('fieldName')                     | Returns the text in the given field. See note below.         |
| GetFieldValue('fieldName')                    | Returns the value in the given field. See note below.        |

**Note**: In the case of the last three expressions, you should select a field which contains data.  If you give the name of a button field for example, then no data will be returned.

